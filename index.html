<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Financial Freedom God's Way - Biblical Stewardship</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --mint: #10B981;
            --emerald: #059669;
            --navy: #1E293B;
            --slate: #475569;
            --gold: #F59E0B;
            --amber: #FCD34D;
            --light-mint: #D1FAE5;
            --light-blue: #E0F2FE;
            --cream: #FFFBEB;
            --white: #FFFFFF;
            --gray: #6B7280;
            --text: #334155;
            --danger: #EF4444;
            --success: #10B981;
            --shadow: 0 4px 16px rgba(16, 185, 129, 0.1);
            --gradient: linear-gradient(135deg, #10B981 0%, #059669 100%);
            --gold-gradient: linear-gradient(135deg, #F59E0B 0%, #FCD34D 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(180deg, #F0FDF4 0%, #E0F2FE 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding-bottom: 75px;
        }

        .screen {
            display: none;
            min-height: calc(100vh - 75px);
            padding: 15px;
            animation: slideInRight 0.4s ease-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes slideInRight {
            from { 
                opacity: 0; 
                transform: translateX(20px);
            }
            to { 
                opacity: 1; 
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes countUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .welcome-section {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            padding: 30px 20px;
        }

        .welcome-icon {
            font-size: 80px;
            margin-bottom: 25px;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        .header-modern {
            background: var(--gradient);
            color: white;
            padding: 25px 20px;
            border-radius: 20px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .header-modern::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header-modern h1 {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .header-modern p {
            font-size: 15px;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .audio-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
            z-index: 2;
        }

        .audio-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .dashboard-tile {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .dashboard-tile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient);
        }

        .dashboard-tile:hover {
            border-color: var(--mint);
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(16, 185, 129, 0.2);
        }

        .dashboard-tile .icon {
            font-size: 32px;
            margin-bottom: 10px;
            display: block;
        }

        .dashboard-tile h3 {
            font-size: 14px;
            color: var(--navy);
            margin-bottom: 5px;
            font-weight: 600;
        }

        .dashboard-tile p {
            font-size: 12px;
            color: var(--gray);
        }

        .financial-summary {
            background: var(--gradient);
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-amount {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .summary-label {
            font-size: 12px;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            display: inline-block;
            text-decoration: none;
            margin: 5px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .btn-secondary {
            background: white;
            color: var(--mint);
            border: 2px solid var(--mint);
            padding: 12px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-block;
            text-decoration: none;
            margin: 5px;
        }

        .btn-secondary:hover {
            background: var(--light-mint);
            transform: translateY(-2px);
        }

        .btn-gold {
            background: var(--gold-gradient);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
            display: inline-block;
            text-decoration: none;
            margin: 5px;
        }

        .btn-gold:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 12px 0;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
            z-index: 1000;
            border-top: 1px solid #E5E7EB;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--gray);
            position: relative;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: var(--gradient);
            transition: width 0.3s;
        }

        .nav-item:hover::before,
        .nav-item.active::before {
            width: 60%;
        }

        .nav-item:hover {
            color: var(--mint);
            background: var(--light-mint);
        }

        .nav-item.active {
            color: var(--mint);
        }

        .nav-item .icon {
            font-size: 20px;
            display: block;
            margin-bottom: 4px;
        }

        .nav-item .label {
            font-size: 11px;
            font-weight: 600;
        }

        .budget-category {
            background: var(--light-blue);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid var(--navy);
        }

        .budget-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
            margin-top: 8px;
        }

        .budget-input:focus {
            outline: none;
            border-color: var(--mint);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .progress-bar {
            background: #E5E7EB;
            height: 24px;
            border-radius: 12px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 600;
            transition: width 0.5s ease;
        }

        .progress-fill.green {
            background: var(--gradient);
        }

        .progress-fill.yellow {
            background: linear-gradient(135deg, var(--gold), var(--amber));
        }

        .progress-fill.red {
            background: linear-gradient(135deg, #EF4444, #DC2626);
        }

        .debt-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 1px solid #E5E7EB;
            transition: all 0.3s;
        }

        .debt-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .debt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .debt-amount {
            font-size: 24px;
            font-weight: 700;
            color: var(--danger);
        }

        .teaching-module {
            background: var(--cream);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 2px solid var(--gold);
            cursor: pointer;
            transition: all 0.3s;
        }

        .teaching-module:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(245, 158, 11, 0.2);
        }

        .teaching-module h3 {
            color: var(--navy);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .teaching-module .status {
            background: var(--gradient);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }

        .scripture-card {
            background: linear-gradient(135deg, var(--light-mint), white);
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            border-left: 4px solid var(--mint);
            font-style: italic;
            color: var(--text);
            line-height: 1.8;
            position: relative;
        }

        .scripture-card::before {
            content: '📖';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 30px;
            opacity: 0.3;
        }

        .calculator-display {
            background: var(--navy);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: right;
            font-size: 32px;
            font-weight: 700;
            min-height: 60px;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .calc-btn {
            background: white;
            border: 2px solid #E5E7EB;
            padding: 20px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .calc-btn:hover {
            background: var(--light-mint);
            border-color: var(--mint);
            transform: scale(1.05);
        }

        .calc-btn.operator {
            background: var(--mint);
            color: white;
            border-color: var(--mint);
        }

        .calc-btn.operator:hover {
            background: var(--emerald);
        }

        .snowball-list {
            list-style: none;
            padding: 0;
        }

        .snowball-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid #E5E7EB;
            transition: all 0.3s;
        }

        .snowball-item:first-child {
            border-color: var(--mint);
            background: var(--light-mint);
        }

        .snowball-rank {
            background: var(--gradient);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            padding: 20px;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 35px;
            max-width: 600px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { 
                transform: translateY(50px); 
                opacity: 0; 
            }
            to { 
                transform: translateY(0); 
                opacity: 1; 
            }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--light-mint);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            color: var(--mint);
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: var(--mint);
            color: white;
            transform: rotate(90deg);
        }

        .success-message {
            background: var(--gradient);
            color: white;
            padding: 16px 20px;
            border-radius: 12px;
            margin: 15px 0;
            text-align: center;
            animation: slideInRight 0.5s;
            font-weight: 600;
        }

        .verse-highlight {
            background: linear-gradient(135deg, var(--amber), transparent);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .tithe-calculator {
            background: var(--cream);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        @media (max-width: 480px) {
            .header-modern h1 { font-size: 22px; }
            .dashboard-grid { grid-template-columns: repeat(2, 1fr); }
            .calculator-grid { grid-template-columns: repeat(3, 1fr); }
            .modal-content { padding: 25px; }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-section">
            <div class="welcome-icon">💰✝️</div>
            <h1 style="color: var(--navy); font-size: 32px; margin-bottom: 20px; font-weight: 700;">
                Financial Freedom God's Way
            </h1>
            <p style="color: var(--text); line-height: 1.8; font-size: 18px; margin-bottom: 30px;">
                Break free from debt, master biblical stewardship, and experience the 
                peace that comes from managing money according to God's principles.
            </p>
            <div class="scripture-card">
                "The rich rule over the poor, and the borrower is slave to the lender."
                <br><strong>- Proverbs 22:7</strong>
            </div>
            <button class="btn-primary" onclick="startJourney()">Start Your Financial Freedom Journey</button>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboardScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Financial Dashboard</h1>
            <p id="dashboardDate"></p>
        </div>

        <div class="financial-summary">
            <h2 style="font-size: 20px; margin-bottom: 5px;">Your Financial Snapshot</h2>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-amount" id="totalIncome">$0</div>
                    <div class="summary-label">Monthly Income</div>
                </div>
                <div class="summary-item">
                    <div class="summary-amount" id="totalExpenses">$0</div>
                    <div class="summary-label">Expenses</div>
                </div>
                <div class="summary-item">
                    <div class="summary-amount" id="totalDebt">$0</div>
                    <div class="summary-label">Total Debt</div>
                </div>
                <div class="summary-item">
                    <div class="summary-amount" id="monthlyTithe">$0</div>
                    <div class="summary-label">Tithe (10%)</div>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-tile" onclick="showScreen('budgetScreen')">
                <span class="icon">📊</span>
                <h3>Biblical Budget</h3>
                <p>Plan your spending</p>
            </div>
            <div class="dashboard-tile" onclick="showScreen('debtScreen')">
                <span class="icon">⛓️</span>
                <h3>Debt Tracker</h3>
                <p>Break free</p>
            </div>
            <div class="dashboard-tile" onclick="showScreen('titheScreen')">
                <span class="icon">🙏</span>
                <h3>Tithe Calculator</h3>
                <p>Give faithfully</p>
            </div>
            <div class="dashboard-tile" onclick="showScreen('teachingScreen')">
                <span class="icon">📚</span>
                <h3>Learn & Grow</h3>
                <p>Biblical wisdom</p>
            </div>
            <div class="dashboard-tile" onclick="showScreen('scriptureScreen')">
                <span class="icon">📖</span>
                <h3>Scripture Wallet</h3>
                <p>God's promises</p>
            </div>
            <div class="dashboard-tile" onclick="showScreen('progressScreen')">
                <span class="icon">📈</span>
                <h3>Progress</h3>
                <p>Track growth</p>
            </div>
        </div>

        <div class="card">
            <h3 style="color: var(--navy); margin-bottom: 15px;">This Week's Financial Scripture</h3>
            <p style="line-height: 1.8; color: var(--text);" id="weeklyScripture"></p>
        </div>
    </div>

    <!-- Budget Screen -->
    <div id="budgetScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Biblical Budget Builder</h1>
            <p>Every dollar has a purpose</p>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Monthly Income</h2>
            <input type="number" class="budget-input" id="incomeInput" placeholder="Enter your monthly income" onchange="calculateBudget()">
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Biblical Budget Allocation</h2>
            <p style="color: var(--text); margin-bottom: 20px;">
                Following biblical principles: Give first, save second, live on the rest.
            </p>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🙏 Tithe & Offerings (10-15%)</h3>
                <input type="number" class="budget-input" id="titheAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="titheProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">💰 Savings & Emergency (10-20%)</h3>
                <input type="number" class="budget-input" id="savingsAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="savingsProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🏠 Housing (25-35%)</h3>
                <input type="number" class="budget-input" id="housingAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="housingProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🍽️ Food (10-15%)</h3>
                <input type="number" class="budget-input" id="foodAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="foodProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🚗 Transportation (10-15%)</h3>
                <input type="number" class="budget-input" id="transportAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="transportProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">⚡ Utilities (5-10%)</h3>
                <input type="number" class="budget-input" id="utilitiesAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="utilitiesProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">💳 Debt Payments (5-10%)</h3>
                <input type="number" class="budget-input" id="debtPayAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill yellow" id="debtPayProgress" style="width: 0%;">0%</div>
                </div>
            </div>

            <div class="budget-category">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🎯 Personal & Misc (5-10%)</h3>
                <input type="number" class="budget-input" id="personalAmount" placeholder="0" onchange="updateBudget()">
                <div class="progress-bar">
                    <div class="progress-fill green" id="personalProgress" style="width: 0%;">0%</div>
                </div>
            </div>
        </div>

        <div class="card" style="background: var(--light-mint);">
            <h3 style="color: var(--navy); margin-bottom: 15px;">Budget Summary</h3>
            <div class="summary-grid">
                <div class="summary-item">
                    <div style="font-size: 24px; font-weight: 700; color: var(--navy);" id="budgetRemaining">$0</div>
                    <div style="font-size: 12px; color: var(--text);">Remaining</div>
                </div>
                <div class="summary-item">
                    <div style="font-size: 24px; font-weight: 700; color: var(--navy);" id="budgetAllocated">$0</div>
                    <div style="font-size: 12px; color: var(--text);">Allocated</div>
                </div>
            </div>
        </div>

        <button class="btn-primary" onclick="saveBudget()" style="width: 100%;">Save Budget</button>
        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%; margin-top: 10px;">Back to Dashboard</button>
    </div>

    <!-- Debt Tracker Screen -->
    <div id="debtScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Debt Freedom Tracker</h1>
            <p>The borrower is slave to the lender</p>
        </div>

        <div class="scripture-card">
            "Let no debt remain outstanding, except the continuing debt to love one another."
            <br><strong>- Romans 13:8</strong>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Add New Debt</h2>
            <input type="text" class="budget-input" id="debtName" placeholder="Debt name (e.g., Credit Card)">
            <input type="number" class="budget-input" id="debtBalance" placeholder="Current balance">
            <input type="number" class="budget-input" id="debtMinimum" placeholder="Minimum payment">
            <input type="number" class="budget-input" id="debtRate" placeholder="Interest rate %">
            <button class="btn-primary" onclick="addDebt()" style="width: 100%; margin-top: 15px;">Add Debt</button>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Your Debts (Debt Snowball Order)</h2>
            <p style="color: var(--text); margin-bottom: 20px;">
                Pay minimums on all debts, then attack the smallest balance with everything extra!
            </p>
            <div id="debtList"></div>
        </div>

        <div class="card" style="background: var(--cream);">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Debt Freedom Calculator</h2>
            <p style="color: var(--text); margin-bottom: 15px;">
                How much extra can you put toward debt each month?
            </p>
            <input type="number" class="budget-input" id="extraPayment" placeholder="Extra monthly payment" onchange="calculateDebtFreedom()">
            <div id="debtFreedomResult" style="margin-top: 20px;"></div>
        </div>

        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%;">Back to Dashboard</button>
    </div>

    <!-- Tithe Calculator Screen -->
    <div id="titheScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Tithe & Offering Calculator</h1>
            <p>Honor God with your firstfruits</p>
        </div>

        <div class="scripture-card">
            "Bring the whole tithe into the storehouse... Test me in this, says the Lord Almighty, 
            and see if I will not throw open the floodgates of heaven and pour out so much blessing 
            that there will not be room enough to store it."
            <br><strong>- Malachi 3:10</strong>
        </div>

        <div class="tithe-calculator">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Calculate Your Tithe</h2>
            <div style="margin-bottom: 20px;">
                <label style="color: var(--text); display: block; margin-bottom: 8px;">Gross Income (Before Taxes)</label>
                <input type="number" class="budget-input" id="grossIncome" placeholder="Enter amount" onchange="calculateTithe()">
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="titheAmount10">$0</div>
                    <div class="stat-label">Tithe (10%)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="offeringAmount">$0</div>
                    <div class="stat-label">Offering (5%)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="firstfruits">$0</div>
                    <div class="stat-label">Total (15%)</div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Types of Biblical Giving</h2>
            
            <div style="margin-bottom: 20px; padding: 15px; background: var(--light-blue); border-radius: 8px;">
                <h3 style="color: var(--navy); margin-bottom: 10px;">📦 Tithe (10%)</h3>
                <p style="color: var(--text); line-height: 1.6;">
                    The first 10% belongs to God. It's not giving, it's returning what's already His.
                </p>
            </div>

            <div style="margin-bottom: 20px; padding: 15px; background: var(--light-mint); border-radius: 8px;">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🎁 Offerings</h3>
                <p style="color: var(--text); line-height: 1.6;">
                    Given above the tithe as an act of worship and gratitude.
                </p>
            </div>

            <div style="margin-bottom: 20px; padding: 15px; background: var(--cream); border-radius: 8px;">
                <h3 style="color: var(--navy); margin-bottom: 10px;">🌾 Firstfruits</h3>
                <p style="color: var(--text); line-height: 1.6;">
                    The first and best portion of any increase or blessing.
                </p>
            </div>

            <div style="margin-bottom: 20px; padding: 15px; background: var(--light-blue); border-radius: 8px;">
                <h3 style="color: var(--navy); margin-bottom: 10px;">❤️ Alms</h3>
                <p style="color: var(--text); line-height: 1.6;">
                    Giving to the poor and those in need.
                </p>
            </div>
        </div>

        <div class="card" style="background: var(--light-mint);">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Annual Giving Impact</h2>
            <div id="annualGiving"></div>
        </div>

        <button class="btn-gold" onclick="commitToTithe()" style="width: 100%;">Make a Tithing Commitment</button>
        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%; margin-top: 10px;">Back to Dashboard</button>
    </div>

    <!-- Teaching Screen -->
    <div id="teachingScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Biblical Money Principles</h1>
            <p>Wisdom for financial freedom</p>
        </div>

        <div class="teaching-module" onclick="expandTeaching('contentment')">
            <h3>
                📚 Module 1: Contentment
                <span class="status">Start</span>
            </h3>
            <p style="color: var(--text); margin-top: 10px;">Learn to be content in all circumstances</p>
            <div id="contentment-content" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--gold);">
                <div class="scripture-card">
                    "I have learned to be content whatever the circumstances... I can do all this through him who gives me strength."
                    <br><strong>- Philippians 4:11-13</strong>
                </div>
                <p style="line-height: 1.8; margin: 20px 0;">
                    <strong>Key Principle:</strong> Contentment is not having everything you want, but wanting everything you have.
                </p>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li>Contentment is learned, not natural</li>
                    <li>Comparison kills contentment</li>
                    <li>Gratitude cultivates contentment</li>
                    <li>God's provision is always enough</li>
                </ul>
                <button class="btn-primary" onclick="completeModule('contentment')" style="margin-top: 20px;">Complete Module</button>
            </div>
        </div>

        <div class="teaching-module" onclick="expandTeaching('stewardship')">
            <h3>
                📚 Module 2: Stewardship
                <span class="status">Start</span>
            </h3>
            <p style="color: var(--text); margin-top: 10px;">Everything belongs to God, we're just managers</p>
            <div id="stewardship-content" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--gold);">
                <div class="scripture-card">
                    "The earth is the Lord's, and everything in it, the world, and all who live in it."
                    <br><strong>- Psalm 24:1</strong>
                </div>
                <p style="line-height: 1.8; margin: 20px 0;">
                    <strong>Key Principle:</strong> We own nothing, we manage everything for God's glory.
                </p>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li>God owns it all</li>
                    <li>We're accountable for how we manage</li>
                    <li>Faithfulness in little leads to much</li>
                    <li>Eternal perspective changes everything</li>
                </ul>
                <button class="btn-primary" onclick="completeModule('stewardship')" style="margin-top: 20px;">Complete Module</button>
            </div>
        </div>

        <div class="teaching-module" onclick="expandTeaching('generosity')">
            <h3>
                📚 Module 3: Generosity
                <span class="status">Start</span>
            </h3>
            <p style="color: var(--text); margin-top: 10px;">It's more blessed to give than receive</p>
            <div id="generosity-content" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--gold);">
                <div class="scripture-card">
                    "Give, and it will be given to you. A good measure, pressed down, shaken together and running over."
                    <br><strong>- Luke 6:38</strong>
                </div>
                <p style="line-height: 1.8; margin: 20px 0;">
                    <strong>Key Principle:</strong> You can't out-give God. Generosity breaks the power of greed.
                </p>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li>Giving is an act of worship</li>
                    <li>God loves a cheerful giver</li>
                    <li>Generosity creates margin</li>
                    <li>Sowing and reaping is a law</li>
                </ul>
                <button class="btn-primary" onclick="completeModule('generosity')" style="margin-top: 20px;">Complete Module</button>
            </div>
        </div>

        <div class="teaching-module" onclick="expandTeaching('wisdom')">
            <h3>
                📚 Module 4: Financial Wisdom
                <span class="status">Start</span>
            </h3>
            <p style="color: var(--text); margin-top: 10px;">Practical wisdom for daily decisions</p>
            <div id="wisdom-content" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--gold);">
                <div class="scripture-card">
                    "The plans of the diligent lead to profit as surely as haste leads to poverty."
                    <br><strong>- Proverbs 21:5</strong>
                </div>
                <p style="line-height: 1.8; margin: 20px 0;">
                    <strong>Key Principle:</strong> Wisdom plans ahead, foolishness spends impulsively.
                </p>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li>Budget before you spend</li>
                    <li>Save for the future</li>
                    <li>Avoid debt like slavery</li>
                    <li>Seek godly counsel</li>
                    <li>Work as unto the Lord</li>
                </ul>
                <button class="btn-primary" onclick="completeModule('wisdom')" style="margin-top: 20px;">Complete Module</button>
            </div>
        </div>

        <div class="teaching-module" onclick="expandTeaching('integrity')">
            <h3>
                📚 Module 5: Financial Integrity
                <span class="status">Start</span>
            </h3>
            <p style="color: var(--text); margin-top: 10px;">Honesty in all financial dealings</p>
            <div id="integrity-content" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--gold);">
                <div class="scripture-card">
                    "The Lord detests dishonest scales, but accurate weights find favor with him."
                    <br><strong>- Proverbs 11:1</strong>
                </div>
                <p style="line-height: 1.8; margin: 20px 0;">
                    <strong>Key Principle:</strong> God sees every transaction. Honor Him with honesty.
                </p>
                <ul style="line-height: 2; margin-left: 20px;">
                    <li>Pay your taxes honestly</li>
                    <li>Keep your word in business</li>
                    <li>Don't cheat or cut corners</li>
                    <li>Return what isn't yours</li>
                    <li>Be transparent with spouse</li>
                </ul>
                <button class="btn-primary" onclick="completeModule('integrity')" style="margin-top: 20px;">Complete Module</button>
            </div>
        </div>

        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%;">Back to Dashboard</button>
    </div>

    <!-- Scripture Wallet Screen -->
    <div id="scriptureScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Scripture Wallet</h1>
            <p>God's promises for your finances</p>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">📖 Provision Promises</h2>
            <div class="scripture-card">
                "And my God will meet all your needs according to the riches of his glory in Christ Jesus."
                <br><strong>- Philippians 4:19</strong>
            </div>
            <div class="scripture-card">
                "Look at the birds of the air; they do not sow or reap or store away in barns, and yet your heavenly Father feeds them. Are you not much more valuable than they?"
                <br><strong>- Matthew 6:26</strong>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">💰 Wealth & Work</h2>
            <div class="scripture-card">
                "Lazy hands make for poverty, but diligent hands bring wealth."
                <br><strong>- Proverbs 10:4</strong>
            </div>
            <div class="scripture-card">
                "Whatever you do, work at it with all your heart, as working for the Lord, not for human masters."
                <br><strong>- Colossians 3:23</strong>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">🎁 Giving & Generosity</h2>
            <div class="scripture-card">
                "Remember this: Whoever sows sparingly will also reap sparingly, and whoever sows generously will also reap generously."
                <br><strong>- 2 Corinthians 9:6</strong>
            </div>
            <div class="scripture-card">
                "One person gives freely, yet gains even more; another withholds unduly, but comes to poverty."
                <br><strong>- Proverbs 11:24</strong>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">⚠️ Debt & Borrowing</h2>
            <div class="scripture-card">
                "The rich rule over the poor, and the borrower is slave to the lender."
                <br><strong>- Proverbs 22:7</strong>
            </div>
            <div class="scripture-card">
                "Let no debt remain outstanding, except the continuing debt to love one another."
                <br><strong>- Romans 13:8</strong>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">📊 Planning & Wisdom</h2>
            <div class="scripture-card">
                "Suppose one of you wants to build a tower. Won't you first sit down and estimate the cost to see if you have enough money to complete it?"
                <br><strong>- Luke 14:28</strong>
            </div>
            <div class="scripture-card">
                "In their hearts humans plan their course, but the Lord establishes their steps."
                <br><strong>- Proverbs 16:9</strong>
            </div>
        </div>

        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%;">Back to Dashboard</button>
    </div>

    <!-- Progress Screen -->
    <div id="progressScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Your Financial Progress</h1>
            <p>Celebrating victories, big and small</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="daysActive">0</div>
                <div class="stat-label">Days Active</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="budgetStreak">0</div>
                <div class="stat-label">Budget Streak</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="debtPaid">$0</div>
                <div class="stat-label">Debt Paid</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalGiven">$0</div>
                <div class="stat-label">Total Given</div>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Financial Health Score</h2>
            <div style="text-align: center; margin: 30px 0;">
                <div style="font-size: 64px; font-weight: 700; color: var(--mint);" id="healthScore">75</div>
                <div style="font-size: 18px; color: var(--text);">Good Progress!</div>
            </div>
            <div class="progress-bar" style="height: 40px;">
                <div class="progress-fill green" id="healthProgress" style="width: 75%;">75%</div>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Milestones Achieved</h2>
            <div id="milestones"></div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Next Goals</h2>
            <div id="nextGoals"></div>
        </div>

        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%;">Back to Dashboard</button>
    </div>

    <!-- Crisis Screen -->
    <div id="crisisScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Financial Crisis Support</h1>
            <p>God is our provider in every season</p>
        </div>

        <div class="card" style="background: linear-gradient(135deg, #FEE2E2, #FFF5F5);">
            <h2 style="color: #DC2626; margin-bottom: 15px;">⚠️ Immediate Help</h2>
            <p style="line-height: 1.8; margin-bottom: 20px;">
                If you're facing financial crisis, foreclosure, or bankruptcy, seek help immediately.
            </p>
            <p style="font-weight: bold; color: #DC2626;">
                If you are in crisis, please contact your local helpline for immediate support.
            </p>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Emergency Action Steps</h2>
            <ol style="line-height: 2.2; margin-left: 20px;">
                <li><strong>Pray:</strong> Cast your anxiety on God (1 Peter 5:7)</li>
                <li><strong>Prioritize:</strong> Food, shelter, utilities, transportation</li>
                <li><strong>Communicate:</strong> Contact creditors before missing payments</li>
                <li><strong>Cut:</strong> Eliminate all non-essential expenses</li>
                <li><strong>Sell:</strong> Consider selling items you don't need</li>
                <li><strong>Work:</strong> Take any honest work available</li>
                <li><strong>Ask:</strong> Humble yourself and ask for help</li>
                <li><strong>Trust:</strong> God will provide a way</li>
            </ol>
        </div>

        <div class="scripture-card">
            "And we know that in all things God works for the good of those who love him, who have been called according to his purpose."
            <br><strong>- Romans 8:28</strong>
        </div>

        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%;">Back to Dashboard</button>
    </div>

    <!-- Resources Screen -->
    <div id="resourcesScreen" class="screen">
        <div class="header-modern">
            <button class="audio-toggle" onclick="toggleAudio()">🔊</button>
            <h1>Financial Resources</h1>
            <p>Tools for your journey</p>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">The 7 Baby Steps to Financial Freedom</h2>
            <ol style="line-height: 2.5; margin-left: 20px;">
                <li><strong>Save $1,000</strong> - Starter emergency fund</li>
                <li><strong>Pay off all debt</strong> - Using debt snowball method</li>
                <li><strong>Save 3-6 months expenses</strong> - Full emergency fund</li>
                <li><strong>Invest 15% for retirement</strong> - Build wealth</li>
                <li><strong>Kids' college fund</strong> - If applicable</li>
                <li><strong>Pay off mortgage early</strong> - Complete freedom</li>
                <li><strong>Build wealth and give</strong> - Leave a legacy</li>
            </ol>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Biblical Money Principles</h2>
            <div style="margin-bottom: 15px; padding: 15px; background: var(--light-mint); border-radius: 8px;">
                <h3 style="color: var(--navy);">✅ DO's</h3>
                <ul style="line-height: 2; margin-top: 10px; margin-left: 20px;">
                    <li>Give first (Proverbs 3:9)</li>
                    <li>Save regularly (Proverbs 21:20)</li>
                    <li>Work diligently (Proverbs 10:4)</li>
                    <li>Plan ahead (Luke 14:28)</li>
                    <li>Seek counsel (Proverbs 15:22)</li>
                    <li>Be content (1 Timothy 6:6)</li>
                </ul>
            </div>
            <div style="padding: 15px; background: var(--cream); border-radius: 8px;">
                <h3 style="color: var(--navy);">❌ DON'Ts</h3>
                <ul style="line-height: 2; margin-top: 10px; margin-left: 20px;">
                    <li>Don't cosign loans (Proverbs 17:18)</li>
                    <li>Don't love money (1 Timothy 6:10)</li>
                    <li>Don't be anxious (Matthew 6:25)</li>
                    <li>Don't get rich quick (Proverbs 13:11)</li>
                    <li>Don't withhold tithes (Malachi 3:8)</li>
                    <li>Don't be enslaved to debt (Proverbs 22:7)</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2 style="color: var(--navy); margin-bottom: 20px;">Spending Guidelines</h2>
            <p style="line-height: 1.8; margin-bottom: 20px;">
                Before any purchase, ask yourself:
            </p>
            <ol style="line-height: 2.2; margin-left: 20px;">
                <li>Do I really need this?</li>
                <li>Can I afford it without debt?</li>
                <li>Have I prayed about it?</li>
                <li>Will this honor God?</li>
                <li>Have I comparison shopped?</li>
                <li>Can I wait 24 hours?</li>
                <li>Will I regret this later?</li>
            </ol>
        </div>

        <button class="btn-secondary" onclick="showScreen('dashboardScreen')" style="width: 100%;">Back to Dashboard</button>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item" onclick="showScreen('dashboardScreen')">
            <span class="icon">🏠</span>
            <span class="label">Home</span>
        </div>
        <div class="nav-item" onclick="showScreen('crisisScreen')">
            <span class="icon">🆘</span>
            <span class="label">Crisis</span>
        </div>
        <div class="nav-item" onclick="showScreen('resourcesScreen')">
            <span class="icon">📚</span>
            <span class="label">Resources</span>
        </div>
        <div class="nav-item" onclick="showInfoModal()">
            <span class="icon">ℹ️</span>
            <span class="label">Info</span>
        </div>
        <div class="nav-item" onclick="showAboutModal()">
            <span class="icon">✨</span>
            <span class="label">About</span>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('infoModal')">×</button>
            <h2 style="color: var(--navy); margin-bottom: 25px;">How to Use This App</h2>
            
            <h3 style="color: var(--mint); margin-top: 25px;">What This App Does</h3>
            <p style="line-height: 1.8; margin-bottom: 20px;">
                Financial Freedom God's Way helps you manage money according to biblical principles:
            </p>
            <ul style="line-height: 2.2; margin-bottom: 25px;">
                <li>Create a biblical budget with proper percentages</li>
                <li>Track and eliminate debt using the snowball method</li>
                <li>Calculate tithes and offerings</li>
                <li>Learn biblical financial principles</li>
                <li>Access financial scriptures for encouragement</li>
                <li>Monitor your financial progress</li>
            </ul>

            <h3 style="color: var(--mint); margin-top: 25px;">Getting Started</h3>
            <p style="line-height: 1.8; margin-bottom: 20px;">
                1. Enter your income in the Budget Builder<br>
                2. Allocate funds according to biblical percentages<br>
                3. List all your debts in the Debt Tracker<br>
                4. Calculate your tithe and commit to giving<br>
                5. Complete the teaching modules<br>
                6. Review scriptures daily for encouragement
            </p>

            <h3 style="color: var(--mint); margin-top: 25px;">Biblical Budget Percentages</h3>
            <p style="line-height: 1.8; margin-bottom: 20px;">
                • Tithe: 10% (minimum)<br>
                • Savings: 10-20%<br>
                • Housing: 25-35%<br>
                • Food: 10-15%<br>
                • Transportation: 10-15%<br>
                • Other expenses: Balance
            </p>

            <h3 style="color: var(--mint); margin-top: 25px;">Install on Your Phone</h3>
            <p style="line-height: 1.8;">
                <strong>iPhone:</strong> Tap Share → Add to Home Screen<br>
                <strong>Android:</strong> Tap Menu (⋮) → Add to Home Screen
            </p>
        </div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('aboutModal')">×</button>
            <h2 style="color: var(--navy); margin-bottom: 25px;">About Financial Freedom God's Way</h2>
            
            <div style="text-align: center; margin-bottom: 30px;">
                <h3 style="color: var(--mint); margin-bottom: 15px;">Made with 💰✝️ by Justin</h3>
                <p style="color: var(--text); font-size: 18px;">Depths to Heights</p>
            </div>

            <div class="scripture-card">
                <strong>Our Mission:</strong><br>
                To help Christians break free from financial bondage through biblical stewardship, 
                wise money management, and faithful giving, experiencing the peace and provision 
                that comes from handling money God's way.
            </div>

            <div style="margin: 30px 0;">
                <p style="line-height: 1.8; color: var(--text);">
                    At Depths to Heights, we believe financial freedom isn't about being rich - 
                    it's about being free from the bondage of debt and the love of money, 
                    so you can generously serve God's kingdom.
                </p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <a href="https://depthstoheights.org" target="_blank" class="btn-secondary">
                    Visit Our Website
                </a>
                <p style="margin: 20px 0; color: var(--text);">
                    Contact: depthstoheights@gmail.com
                </p>
                <button class="btn-gold" onclick="window.open('https://www.paypal.com/donate/?hosted_button_id=8GRE7B8C3TP2U', '_blank')">
                    Support Our Ministry
                </button>
            </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAA==" type="audio/wav">
    </audio>

    <script>
        // App State
        let appState = {
            currentScreen: 'welcomeScreen',
            audioEnabled: false,
            startDate: null,
            budget: {
                income: 0,
                tithe: 0,
                savings: 0,
                housing: 0,
                food: 0,
                transport: 0,
                utilities: 0,
                debtPay: 0,
                personal: 0
            },
            debts: [],
            completedModules: [],
            titheCommitment: 0,
            totalGiven: 0,
            debtPaidOff: 0
        };

        // Weekly Scriptures
        const weeklyScriptures = [
            "But seek first his kingdom and his righteousness, and all these things will be given to you as well. - Matthew 6:33",
            "Honor the Lord with your wealth, with the firstfruits of all your crops. - Proverbs 3:9",
            "For where your treasure is, there your heart will be also. - Matthew 6:21",
            "Keep your lives free from the love of money and be content with what you have. - Hebrews 13:5",
            "Whoever is faithful in very little is also faithful in much. - Luke 16:10",
            "A good name is more desirable than great riches; to be esteemed is better than silver or gold. - Proverbs 22:1",
            "Command those who are rich in this present world not to be arrogant nor to put their hope in wealth. - 1 Timothy 6:17"
        ];

        // Initialize App
        function initApp() {
            loadState();
            updateDateTime();
            setInterval(updateDateTime, 60000);
            
            // Set weekly scripture
            const weekNum = Math.floor(Date.now() / (7 * 24 * 60 * 60 * 1000)) % weeklyScriptures.length;
            const scriptureEl = document.getElementById('weeklyScripture');
            if (scriptureEl) {
                scriptureEl.innerHTML = weeklyScriptures[weekNum];
            }
            
            updateDashboard();
            loadDebts();
            updateProgress();
        }

        // Navigation
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            appState.currentScreen = screenId;
            
            // Update nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            saveState();
        }

        function startJourney() {
            if (!appState.startDate) {
                appState.startDate = new Date().toISOString();
            }
            showScreen('dashboardScreen');
            saveState();
        }

        // Budget Functions
        function calculateBudget() {
            const income = parseFloat(document.getElementById('incomeInput').value) || 0;
            appState.budget.income = income;
            
            // Set recommended amounts
            document.getElementById('titheAmount').value = Math.round(income * 0.1);
            document.getElementById('savingsAmount').value = Math.round(income * 0.15);
            document.getElementById('housingAmount').value = Math.round(income * 0.3);
            document.getElementById('foodAmount').value = Math.round(income * 0.12);
            document.getElementById('transportAmount').value = Math.round(income * 0.12);
            document.getElementById('utilitiesAmount').value = Math.round(income * 0.08);
            document.getElementById('debtPayAmount').value = Math.round(income * 0.08);
            document.getElementById('personalAmount').value = Math.round(income * 0.05);
            
            updateBudget();
        }

        function updateBudget() {
            const income = appState.budget.income;
            if (!income) return;
            
            const categories = ['tithe', 'savings', 'housing', 'food', 'transport', 'utilities', 'debtPay', 'personal'];
            let totalAllocated = 0;
            
            categories.forEach(cat => {
                const inputId = cat + 'Amount';
                const progressId = cat + 'Progress';
                const amount = parseFloat(document.getElementById(inputId).value) || 0;
                appState.budget[cat] = amount;
                totalAllocated += amount;
                
                const percentage = Math.round((amount / income) * 100);
                const progressBar = document.getElementById(progressId);
                if (progressBar) {
                    progressBar.style.width = Math.min(percentage, 100) + '%';
                    progressBar.textContent = percentage + '%';
                    
                    // Color code based on recommended percentages
                    if (cat === 'tithe' && percentage < 10) {
                        progressBar.className = 'progress-fill red';
                    } else if (cat === 'savings' && percentage < 10) {
                        progressBar.className = 'progress-fill yellow';
                    } else if (cat === 'housing' && percentage > 35) {
                        progressBar.className = 'progress-fill red';
                    } else if (cat === 'debtPay' && percentage > 10) {
                        progressBar.className = 'progress-fill yellow';
                    }
                }
            });
            
            document.getElementById('budgetAllocated').textContent = '$' + totalAllocated.toFixed(0);
            document.getElementById('budgetRemaining').textContent = '$' + (income - totalAllocated).toFixed(0);
            
            updateDashboard();
        }

        function saveBudget() {
            saveState();
            showSuccessMessage('Budget saved successfully!');
        }

        // Debt Functions
        function addDebt() {
            const name = document.getElementById('debtName').value;
            const balance = parseFloat(document.getElementById('debtBalance').value) || 0;
            const minimum = parseFloat(document.getElementById('debtMinimum').value) || 0;
            const rate = parseFloat(document.getElementById('debtRate').value) || 0;
            
            if (!name || !balance) {
                document.getElementById('debtName').style.borderColor = '#EF4444';
                return;
            }
            
            appState.debts.push({
                id: Date.now(),
                name: name,
                balance: balance,
                original: balance,
                minimum: minimum,
                rate: rate
            });
            
            // Clear inputs
            document.getElementById('debtName').value = '';
            document.getElementById('debtBalance').value = '';
            document.getElementById('debtMinimum').value = '';
            document.getElementById('debtRate').value = '';
            
            saveState();
            loadDebts();
            updateDashboard();
            showSuccessMessage('Debt added successfully!');
        }

        function loadDebts() {
            const debtList = document.getElementById('debtList');
            if (!debtList) return;
            
            // Sort by balance (debt snowball)
            const sortedDebts = [...appState.debts].sort((a, b) => a.balance - b.balance);
            
            if (sortedDebts.length === 0) {
                debtList.innerHTML = '<p style="color: var(--gray); text-align: center;">No debts added yet. Add your debts above to get started!</p>';
                return;
            }
            
            let html = '<ul class="snowball-list">';
            sortedDebts.forEach((debt, index) => {
                const percentPaid = ((debt.original - debt.balance) / debt.original * 100).toFixed(0);
                html += `
                    <li class="snowball-item">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div class="snowball-rank">${index + 1}</div>
                            <div style="flex: 1;">
                                <strong>${debt.name}</strong>
                                <div style="color: var(--gray); font-size: 14px;">
                                    Min: $${debt.minimum} | Rate: ${debt.rate}%
                                </div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div class="debt-amount">$${debt.balance.toFixed(0)}</div>
                            <div style="font-size: 12px; color: var(--gray);">${percentPaid}% paid</div>
                        </div>
                    </li>
                `;
            });
            html += '</ul>';
            
            debtList.innerHTML = html;
        }

        function calculateDebtFreedom() {
            const extra = parseFloat(document.getElementById('extraPayment').value) || 0;
            const resultDiv = document.getElementById('debtFreedomResult');
            
            if (appState.debts.length === 0) {
                resultDiv.innerHTML = '<p style="color: var(--mint); font-weight: 600;">Congratulations! You have no debt!</p>';
                return;
            }
            
            // Simple calculation for demonstration
            const totalDebt = appState.debts.reduce((sum, debt) => sum + debt.balance, 0);
            const totalMinimums = appState.debts.reduce((sum, debt) => sum + debt.minimum, 0);
            const monthlyPayment = totalMinimums + extra;
            
            const months = Math.ceil(totalDebt / monthlyPayment);
            const years = Math.floor(months / 12);
            const remainingMonths = months % 12;
            
            let timeString = '';
            if (years > 0) {
                timeString = `${years} year${years > 1 ? 's' : ''} and ${remainingMonths} month${remainingMonths !== 1 ? 's' : ''}`;
            } else {
                timeString = `${months} month${months !== 1 ? 's' : ''}`;
            }
            
            resultDiv.innerHTML = `
                <div style="background: var(--light-mint); padding: 20px; border-radius: 12px;">
                    <h3 style="color: var(--navy); margin-bottom: 10px;">🎉 Debt Freedom Date</h3>
                    <p style="font-size: 24px; font-weight: 700; color: var(--mint);">${timeString}</p>
                    <p style="color: var(--text); margin-top: 10px;">
                        With $${extra} extra per month, you'll be debt-free in ${timeString}!
                    </p>
                </div>
            `;
        }

        // Tithe Calculator
        function calculateTithe() {
            const gross = parseFloat(document.getElementById('grossIncome').value) || 0;
            
            const tithe = gross * 0.1;
            const offering = gross * 0.05;
            const total = gross * 0.15;
            
            document.getElementById('titheAmount10').textContent = '$' + tithe.toFixed(0);
            document.getElementById('offeringAmount').textContent = '$' + offering.toFixed(0);
            document.getElementById('firstfruits').textContent = '$' + total.toFixed(0);
            
            // Annual calculation
            const annualDiv = document.getElementById('annualGiving');
            if (annualDiv) {
                annualDiv.innerHTML = `
                    <p style="line-height: 1.8;">
                        If you faithfully tithe and give offerings:
                    </p>
                    <ul style="line-height: 2; margin: 15px 0 0 20px;">
                        <li>Annual Tithe: <strong>$${(tithe * 12).toFixed(0)}</strong></li>
                        <li>Annual Offerings: <strong>$${(offering * 12).toFixed(0)}</strong></li>
                        <li>Total Annual Giving: <strong>$${(total * 12).toFixed(0)}</strong></li>
                    </ul>
                    <p style="margin-top: 15px; font-style: italic; color: var(--text);">
                        "Test me in this," says the Lord, "and see if I will not throw open the floodgates of heaven!"
                    </p>
                `;
            }
        }

        function commitToTithe() {
            const gross = parseFloat(document.getElementById('grossIncome').value) || 0;
            if (gross > 0) {
                appState.titheCommitment = gross * 0.1;
                saveState();
                showSuccessMessage('Tithe commitment saved! God honors faithful giving.');
            }
        }

        // Teaching Modules
        function expandTeaching(module) {
            const content = document.getElementById(module + '-content');
            if (content.style.display === 'none') {
                content.style.display = 'block';
            } else {
                content.style.display = 'none';
            }
        }

        function completeModule(module) {
            if (!appState.completedModules.includes(module)) {
                appState.completedModules.push(module);
                saveState();
                
                // Update status
                const moduleEl = event.target.closest('.teaching-module');
                const statusEl = moduleEl.querySelector('.status');
                statusEl.textContent = 'Complete ✓';
                statusEl.style.background = 'var(--gradient)';
                
                showSuccessMessage('Module completed! Knowledge is power.');
            }
        }

        // Dashboard Update
        function updateDashboard() {
            document.getElementById('totalIncome').textContent = '$' + (appState.budget.income || 0).toFixed(0);
            
            const totalExpenses = Object.keys(appState.budget).reduce((sum, key) => {
                if (key !== 'income') {
                    return sum + (appState.budget[key] || 0);
                }
                return sum;
            }, 0);
            document.getElementById('totalExpenses').textContent = '$' + totalExpenses.toFixed(0);
            
            const totalDebt = appState.debts.reduce((sum, debt) => sum + debt.balance, 0);
            document.getElementById('totalDebt').textContent = '$' + totalDebt.toFixed(0);
            
            document.getElementById('monthlyTithe').textContent = '$' + (appState.budget.tithe || 0).toFixed(0);
        }

        // Progress Tracking
        function updateProgress() {
            // Days active
            const startDate = appState.startDate ? new Date(appState.startDate) : new Date();
            const today = new Date();
            const daysActive = Math.floor((today - startDate) / (1000 * 60 * 60 * 24)) + 1;
            
            const daysEl = document.getElementById('daysActive');
            if (daysEl) daysEl.textContent = daysActive;
            
            // Budget streak (simplified)
            const streakEl = document.getElementById('budgetStreak');
            if (streakEl) streakEl.textContent = appState.budget.income > 0 ? daysActive : 0;
            
            // Debt paid
            const debtPaidEl = document.getElementById('debtPaid');
            if (debtPaidEl) debtPaidEl.textContent = '$' + appState.debtPaidOff.toFixed(0);
            
            // Total given
            const givenEl = document.getElementById('totalGiven');
            if (givenEl) givenEl.textContent = '$' + appState.totalGiven.toFixed(0);
            
            // Health score
            let score = 50;
            if (appState.budget.tithe >= appState.budget.income * 0.1) score += 20;
            if (appState.budget.savings >= appState.budget.income * 0.1) score += 15;
            if (appState.debts.length === 0) score += 15;
            
            const scoreEl = document.getElementById('healthScore');
            const progressEl = document.getElementById('healthProgress');
            if (scoreEl) scoreEl.textContent = score;
            if (progressEl) {
                progressEl.style.width = score + '%';
                progressEl.textContent = score + '%';
            }
            
            // Milestones
            updateMilestones();
            
            // Next goals
            updateNextGoals();
        }

        function updateMilestones() {
            const milestones = [];
            
            if (appState.budget.income > 0) {
                milestones.push('<div style="padding: 10px; background: var(--light-mint); border-radius: 8px; margin-bottom: 10px;">✅ Created a budget</div>');
            }
            if (appState.budget.tithe >= appState.budget.income * 0.1) {
                milestones.push('<div style="padding: 10px; background: var(--light-mint); border-radius: 8px; margin-bottom: 10px;">✅ Faithful tither</div>');
            }
            if (appState.debts.length > 0) {
                milestones.push('<div style="padding: 10px; background: var(--light-mint); border-radius: 8px; margin-bottom: 10px;">✅ Tracking debt</div>');
            }
            if (appState.completedModules.length > 0) {
                milestones.push(`<div style="padding: 10px; background: var(--light-mint); border-radius: 8px; margin-bottom: 10px;">✅ Completed ${appState.completedModules.length} module(s)</div>`);
            }
            
            const milestonesEl = document.getElementById('milestones');
            if (milestonesEl) {
                milestonesEl.innerHTML = milestones.join('') || '<p style="color: var(--gray);">Complete activities to earn milestones!</p>';
            }
        }

        function updateNextGoals() {
            const goals = [];
            
            if (appState.budget.income === 0) {
                goals.push('📊 Create your first budget');
            }
            if (appState.budget.tithe < appState.budget.income * 0.1) {
                goals.push('🙏 Commit to tithing 10%');
            }
            if (appState.budget.savings < appState.budget.income * 0.1) {
                goals.push('💰 Save 10% of income');
            }
            if (appState.debts.length > 0) {
                goals.push('⛓️ Pay off smallest debt');
            }
            if (appState.completedModules.length < 5) {
                goals.push('📚 Complete all teaching modules');
            }
            
            const goalsEl = document.getElementById('nextGoals');
            if (goalsEl) {
                goalsEl.innerHTML = goals.map(goal => 
                    `<div style="padding: 10px; background: var(--cream); border-radius: 8px; margin-bottom: 10px;">${goal}</div>`
                ).join('') || '<p style="color: var(--mint); font-weight: 600;">🎉 All goals achieved!</p>';
            }
        }

        // Utilities
        function updateDateTime() {
            const now = new Date();
            const dateString = now.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            const dashboardDate = document.getElementById('dashboardDate');
            if (dashboardDate) {
                dashboardDate.textContent = dateString;
            }
        }

        function toggleAudio() {
            appState.audioEnabled = !appState.audioEnabled;
            const buttons = document.querySelectorAll('.audio-toggle');
            buttons.forEach(btn => {
                btn.textContent = appState.audioEnabled ? '🔇' : '🔊';
            });
        }

        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'success-message';
            successDiv.textContent = message;
            successDiv.style.position = 'fixed';
            successDiv.style.top = '20px';
            successDiv.style.left = '50%';
            successDiv.style.transform = 'translateX(-50%)';
            successDiv.style.zIndex = '3000';
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 3000);
        }

        // Modals
        function showInfoModal() {
            document.getElementById('infoModal').classList.add('active');
        }

        function showAboutModal() {
            document.getElementById('aboutModal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Click outside modal to close
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // State Management
        function saveState() {
            localStorage.setItem('financialFreedomState', JSON.stringify(appState));
        }

        function loadState() {
            const saved = localStorage.getItem('financialFreedomState');
            if (saved) {
                appState = { ...appState, ...JSON.parse(saved) };
            }
        }

        // Initialize on load
        window.addEventListener('load', initApp);
    </script>
</body>
</html>